# インターン掲示板 タスクリスト

## 認証機能

### 🟡 ユーザー認証の基本実装

- [~] ユーザー登録機能の実装

  - [x] Supabase認証の実装
  - [x] UserProfileテーブルとの連携
  - [x] 登録完了後の自動ログイン実装
  - 見積時間: 2時間

- [~] ログイン機能の改善
  - [x] ログイン後のリダイレクト先を掲示板トップページに変更
  - [x] エラーメッセージの日本語化
  - 見積時間: 1時間

### 🟢 ユーザー情報管理

- [~] ユーザー情報編集機能

  - [x] 編集フォームの作成
  - [x] バリデーション実装
  - [x] 確認画面の実装
  - 見積時間: 2時間

- [~] ユーザー退会機能
  - [x] 退会確認画面の実装
  - [x] 論理削除の実装
  - [x] 関連投稿の非表示設定
  - 見積時間: 1時間

## 掲示板機能

### 🔴 投稿機能の実装

- [~] 投稿作成機能

  - [x] 投稿フォームの作成
  - [x] バリデーション実装
  - [ ] プレビュー機能
  - 見積時間: 3時間

- [~] 投稿一覧表示
  - [x] ページネーション実装（10件/ページ）
  - [x] 投稿者情報の表示
  - [x] 日時フォーマットの整備
  - 見積時間: 2時間

### 🟡 投稿管理機能

- [~] 投稿編集機能

  - [x] 編集フォームの作成
  - [x] 投稿者のみ編集可能な制御
  - [ ] プレビュー機能
  - 見積時間: 1時間

- [~] 投稿削除機能
  - [x] 削除確認ダイアログ
  - [x] 投稿者のみ削除可能な制御
  - [x] 論理削除の実装
  - 見積時間: 0.5時間

### 🟢 返信機能

- [x] 返信投稿機能
  - [x] 返信フォームの作成
  - [x] 親投稿との関連付け
  - [x] 返信一覧の表示
  - 見積時間: 3時間
- [x] 🔴 返信の投稿ボタンの挙動を修正する
  - [x] Server Actionからリダイレクト削除による状態管理問題を修正
  - [x] finally ブロックでisLoading状態のリセットを保証
  - [x] 成功時のページリロード実装
  - 見積時間: 0.5時間
- [x] 🟡 返信の編集フォームを`reply-form`にする
  - [x] ReplyFormコンポーネントの編集対応拡張
  - [x] updateReply Server Actionの実装
  - [x] 編集ページでの返信/通常投稿の条件分岐実装
  - 見積時間: 1時間
- [ ] 🔴 投稿、返信の削除メソッドを修正する（現在はエラーが出ている）
  - 詳細な手順や注意点
  - 依存関係
  - 見積時間:
- [ ] 🟢 ボタンを押した後、ローディングを追加する
  - 詳細な手順や注意点
  - 依存関係
  - 見積時間:

## UI/UX改善

### 🟡 レイアウトとデザイン

- [~] 共通レイアウトの改善

  - [x] ヘッダーナビゲーションの整備
  - [ ] レスポンシブ対応
  - 見積時間: 2時間

- [~] フォームデザインの統一
  - [x] 入力フォームのスタイル統一
  - [x] エラー表示の改善
  - 見積時間: 1時間

### 🔴 投稿関連

- [x] 投稿作成時のエラーと保存の不一致
  - 投稿フォームから送信後、エラーが表示されるがDBには投稿が保存され一覧に表示される問題を調査し修正する。
  - 原因特定
  - 修正実装
  - 見積時間: 1時間

## テストとデバッグ

### 🟢 テスト実装

- [ ] ユニットテストの作成

  - [ ] 認証機能のテスト
  - [ ] 投稿機能のテスト
  - 見積時間: 3時間

- [ ] E2Eテストの実装
  - [ ] 主要フローのテスト作成
  - [ ] CI/CD設定
  - 見積時間: 4時間

## バグ修正

### 🔴 認証関連

- [x] ログイン後のリダイレクト問題
  - [x] ミドルウェアのセッション管理の見直し
  - [x] Supabase セッション更新の確認
  - 見積時間: 2時間

### 🔴 Hydration関連

- [x] Hydration Mismatchエラーの修正
  - [x] date-fnsのformatDistanceToNowによるSSR/CSRの不整合を修正
  - [x] カスタムフック（useTimeAgo）の実装
  - [x] クライアントサイドでのみ時刻フォーマットを実行するように変更
  - 見積時間: 1時間
